<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <title>اخفاء ازرار داخل القائمة</title>
</head>

<body>

    <div class="container mt-4">
        <div class="btn-group">
            <button type="button" class="btn btn-primary">إجراء</button>
            <button type="button" class="btn btn-primary dropdown-toggle dropdown-toggle-split" data-toggle="dropdown"
                aria-haspopup="true" aria-expanded="false">
                <span class="sr-only">Toggle Dropdown</span>
            </button>
            <div class="dropdown-menu">
                <a class="dropdown-item" href="#">حذف</a>
                <a class="dropdown-item" href="#">ارشيف</a>
                <a class="dropdown-item" href="#">قيد الإيراد المستحق</a>
                <a class="dropdown-item" href="#">إنشاء رابط</a>
                <a class="dropdown-item" href="#">مشاركة</a>
                <a class="dropdown-item" href="#">تعيين عرض السعر كمرسل</a>
            </div>
        </div>
    </div>

    <script>
        var targetNode = document.querySelector('.btn-group');

        var observer = new MutationObserver(function (mutations) {
            mutations.forEach(function (mutation) {
                var isDropdownOpen = targetNode.querySelector('.dropdown-menu').classList.contains('show');

                if (isDropdownOpen) {
                    // قم بتنفيذ الأكواد الخاصة بك هنا عندما يتم فتح القائمة
                    console.log('القائمة مفتوحة');
                    var archiveItem = Array.from(targetNode.querySelectorAll('.dropdown-menu a')).find(function (item) {
                        return item.textContent.trim() === 'ارشيف';
                    });
                    if (archiveItem) { archiveItem.style.display = 'none'; }

                    var delItem = Array.from(targetNode.querySelectorAll('.dropdown-menu a')).find(function (item) {
                        return item.textContent.trim() === 'حذف';
                    });
                    if (delItem) { delItem.style.display = 'none'; }


                } else {
                    // قم بتنفيذ الأكواد الخاصة بك هنا عندما يتم إغلاق القائمة
                    console.log('القائمة مغلقة');
                }
            });
        });

        var config = { attributes: true, childList: true, subtree: true };

        observer.observe(targetNode, config);
    </script>

    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>

</body>

</html>